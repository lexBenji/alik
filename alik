#!/usr/bin/python3

from sys import argv
from string import ascii_letters as alpha

if len(argv) == 1:
   raise SystemExit

file=""
fset=False

line=0
col=0

state=0
word=""
write=False
raw=False
_str=""
quote=""

version="0.01"

valid_flags=[
      "-v",
      "-version"
      ]

cur=""

for arg in argv:
   if arg.endswith(".alik"):
      file=arg
      fset=True
   elif arg.startswith("-") and arg in valid_flags:
      if arg == "-v" or arg == "-version":
         print("Current version: {0}".format(version))
         raise SystemExit

if fset==False:
   raise SystemExit

with open(file) as rf:
   rf=rf.readlines()
   while True:
      if line==len(rf):
         break
      cur=rf[line][col]
      if state==0:
         if cur in alpha:
            word+=cur
         else:
            if word == "echo":
               write=True
               word=""
            elif cur in "\"'":
               quote=cur
               state=1
            elif cur in " \t":
               pass
            elif cur == "\n":
               if write==True:
                  print(_str)
                  _str=""
                  line+=1
                  col=-1
      elif state==1:
         if cur in "\"'" and quote==cur:
            state=0
         else:
            _str+=cur
      col+=1
